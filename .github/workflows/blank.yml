üöÄ FACEBOOK CLONE - COMPLETE GUIDE (ALL-IN-ONE)
Everything You Need - Code, Instructions, Links - All Here
QUICK LINKS (SAVE THESE!)
What
Link
GitHub
https://github.com
MongoDB
https://www.mongodb.com/cloud/atlas
Railway
https://railway.app
Vercel
https://vercel.com
Node.js
https://nodejs.org
Git
https://git-scm.com
VS Code
https://code.visualstudio.com
PART 1: CREATE 4 ACCOUNTS (5 MIN)
GitHub
Go to https://github.com
Click "Sign up"
Email ‚Üí Password ‚Üí Username
Verify email
‚úÖ Done
MongoDB
Go to https://www.mongodb.com/cloud/atlas
Click "Try Free"
Email ‚Üí Password ‚Üí Info
Verify email
‚úÖ Done
Railway
Go to https://railway.app
Click "Login" ‚Üí "GitHub"
Authorize with GitHub
‚úÖ Done
Vercel
Go to https://vercel.com
Click "Sign Up" ‚Üí "Continue with GitHub"
Authorize with GitHub
‚úÖ Done
PART 2: INSTALL SOFTWARE (10 MIN)
Node.js
Go to https://nodejs.org
Download LTS version
Install (click next ‚Üí finish)
Open terminal, run: node --version
‚úÖ Should show version number
Git
Go to https://git-scm.com
Download for your OS
Install (click next ‚Üí finish)
Open terminal, run: git --version
‚úÖ Should show version number
VS Code (Optional)
Go to https://code.visualstudio.com
Download and install
‚úÖ Done
PART 3: MONGODB DATABASE SETUP (10 MIN)
3.1 Create Cluster
Go to https://cloud.mongodb.com
Login
Click "Create a deployment"
Select M0 Shared (Free)
Choose your region
Click "Create"
Wait 1-3 minutes
‚úÖ Cluster created
3.2 Create Database User
Click "Database Access" (left menu)
Click "Add new database user"
Username: rivkacohen419_db_user
Password: Create STRONG password (SAVE IT!)
Privileges: "Read and write to any database"
Click "Add User"
‚úÖ User created
3.3 Allow Access
Click "Network Access" (left menu)
Click "Add IP Address"
Click "Allow access from anywhere"
Click "Confirm"
‚úÖ IP whitelisted
3.4 Get Connection String
Click "Databases" (left menu)
Click "Connect"
Click "Drivers"
Select Node.js 4.x
Copy the connection string
Example: mongodb+srv://rivkacohen419_db_user:PASSWORD@cluster0.xxxxx.mongodb.net/?appName=Cluster0
Replace PASSWORD with your actual password
Replace /?appName=Cluster0 with /facebook-clone?appName=Cluster0
‚úÖ Save this URL!
PART 4: CREATE BACKEND (10 MIN)
4.1 Create Folder & Install
Open terminal and run:
mkdir facebook-clone-backend
cd facebook-clone-backend
npm init -y
npm install express mongoose bcryptjs jsonwebtoken cors dotenv
4.2 Create server.js
Create file: server.js
Copy and paste this ENTIRE code:
const express = require('express');
const mongoose = require('mongoose');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');
const cors = require('cors');
require('dotenv').config();

const app = express();
app.use(cors());
app.use(express.json());

mongoose.connect(process.env.MONGODB_URI, {
  useNewUrlParser: true,
  useUnifiedTopology: true,
})
.then(() => console.log('‚úÖ Connected to MongoDB!'))
.catch(err => console.log('‚ùå MongoDB Error:', err));

// SCHEMAS
const userSchema = new mongoose.Schema({
  username: { type: String, unique: true, required: true },
  email: { type: String, unique: true, required: true },
  password: { type: String, required: true },
  bio: { type: String, default: '' },
  profilePic: { type: String, default: 'https://via.placeholder.com/150' },
  followers: [{ type: mongoose.Schema.Types.ObjectId, ref: 'User' }],
  following: [{ type: mongoose.Schema.Types.ObjectId, ref: 'User' }],
  createdAt: { type: Date, default: Date.now },
});

const postSchema = new mongoose.Schema({
  author: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },
  content: { type: String, required: true },
  image: { type: String, default: '' },
  likes: [{ type: mongoose.Schema.Types.ObjectId, ref: 'User' }],
  comments: [{
    author: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
    text: String,
    createdAt: { type: Date, default: Date.now },
  }],
  createdAt: { type: Date, default: Date.now },
});

const User = mongoose.model('User', userSchema);
const Post = mongoose.model('Post', postSchema);

// MIDDLEWARE
const authenticateToken = (req, res, next) => {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1];
  if (!token) return res.status(401).json({ error: 'No token provided' });
  jwt.verify(token, process.env.JWT_SECRET, (err, user) => {
    if (err) return res.status(403).json({ error: 'Invalid token' });
    req.user = user;
    next();
  });
};

// AUTH ROUTES
app.post('/auth/signup', async (req, res) => {
  try {
    const { username, email, password } = req.body;
    if (!username || !email || !password) {
      return res.status(400).json({ error: 'All fields required' });
    }
    const existingUser = await User.findOne({ $or: [{ email }, { username }] });
    if (existingUser) {
      return res.status(400).json({ error: 'Email or username already exists' });
    }
    const hashedPassword = await bcrypt.hash(password, 10);
    const user = new User({ username, email, password: hashedPassword });
    await user.save();
    const token = jwt.sign({ id: user._id, username: user.username }, process.env.JWT_SECRET, { expiresIn: '7d' });
    res.json({ token, user: { id: user._id, username: user.username, email: user.email, profilePic: user.profilePic } });
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.post('/auth/login', async (req, res) => {
  try {
    const { email, password } = req.body;
    if (!email || !password) {
      return res.status(400).json({ error: 'Email and password required' });
    }
    const user = await User.findOne({ email });
    if (!user) {
      return res.status(400).json({ error: 'User not found' });
    }
    const validPassword = await bcrypt.compare(password, user.password);
    if (!validPassword) {
      return res.status(400).json({ error: 'Invalid password' });
    }
    const token = jwt.sign({ id: user._id, username: user.username }, process.env.JWT_SECRET, { expiresIn: '7d' });
    res.json({ token, user: { id: user._id, username: user.username, email: user.email, profilePic: user.profilePic } });
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

// POST ROUTES
app.post('/posts', authenticateToken, async (req, res) => {
  try {
    const { content, image } = req.body;
    if (!content) {
      return res.status(400).json({ error: 'Content required' });
    }
    const post = new Post({ author: req.user.id, content, image: image || '' });
    await post.save();
    await post.populate('author', 'username profilePic');
    res.json(post);
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.get('/posts', async (req, res) => {
  try {
    const posts = await Post.find()
      .populate('author', 'username profilePic')
      .populate('comments.author', 'username')
      .populate('likes', 'username')
      .sort({ createdAt: -1 })
      .limit(50);
    res.json(posts);
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.post('/posts/:id/like', authenticateToken, async (req, res) => {
  try {
    const post = await Post.findById(req.params.id);
    if (!post) return res.status(404).json({ error: 'Post not found' });
    const isLiked = post.likes.includes(req.user.id);
    if (isLiked) {
      post.likes = post.likes.filter(id => id.toString() !== req.user.id);
    } else {
      post.likes.push(req.user.id);
    }
    await post.save();
    await post.populate('author', 'username profilePic');
    res.json(post);
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.post('/posts/:id/comment', authenticateToken, async (req, res) => {
  try {
    const { text } = req.body;
    if (!text) {
      return res.status(400).json({ error: 'Comment text required' });
    }
    const post = await Post.findById(req.params.id);
    if (!post) return res.status(404).json({ error: 'Post not found' });
    post.comments.push({ author: req.user.id, text });
    await post.save();
    await post.populate('comments.author', 'username profilePic');
    res.json(post);
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.delete('/posts/:id', authenticateToken, async (req, res) => {
  try {
    const post = await Post.findById(req.params.id);
    if (!post) return res.status(404).json({ error: 'Post not found' });
    if (post.author.toString() !== req.user.id) {
      return res.status(403).json({ error: 'Not authorized' });
    }
    await Post.findByIdAndDelete(req.params.id);
    res.json({ message: 'Post deleted' });
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

// USER ROUTES
app.get('/users/:id', async (req, res) => {
  try {
    const user = await User.findById(req.params.id)
      .select('-password')
      .populate('followers', 'username profilePic')
      .populate('following', 'username profilePic');
    if (!user) return res.status(404).json({ error: 'User not found' });
    const posts = await Post.find({ author: req.params.id })
      .populate('author', 'username profilePic')
      .sort({ createdAt: -1 });
    res.json({ user, posts });
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.put('/users/:id', authenticateToken, async (req, res) => {
  try {
    if (req.user.id !== req.params.id) {
      return res.status(403).json({ error: 'Not authorized' });
    }
    const { bio, profilePic } = req.body;
    const user = await User.findByIdAndUpdate(
      req.params.id,
      { bio, profilePic },
      { new: true }
    ).select('-password');
    res.json(user);
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.get('/auth/me', authenticateToken, async (req, res) => {
  try {
    const user = await User.findById(req.user.id).select('-password');
    res.json(user);
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

const PORT = process.env.PORT || 5000;
app.listen(PORT, () => {
  console.log(`\nüöÄ Server running on http://localhost:${PORT}`);
  console.log(`üìù API ready for requests\n`);
});
4.3 Create .env File
Create file: .env
Paste this:
MONGODB_URI=mongodb+srv://rivkacohen419_db_user:YOUR_PASSWORD@cluster0.xxxxx.mongodb.net/facebook-clone?appName=Cluster0
JWT_SECRET=facebook_clone_secret_key_12345
PORT=5000
NODE_ENV=development
Replace:
YOUR_PASSWORD with your MongoDB password
cluster0.xxxxx.mongodb.net with your actual MongoDB URL
4.4 Create .gitignore File
Create file: .gitignore
Paste this:
node_modules
.env
.DS_Store
4.5 Test Backend
In terminal:
node server.js
Should show:
‚úÖ Connected to MongoDB!
üöÄ Server running on http://localhost:5000
Press Ctrl+C to stop.
‚úÖ Backend works!
PART 5: GITHUB & RAILWAY (10 MIN)
5.1 Create GitHub Repo
Go to https://github.com/new
Name: facebook-clone-backend
Public
Create
5.2 Upload Code
In terminal (inside backend folder):
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/facebook-clone-backend.git
git push -u origin main
Replace YOUR_USERNAME with your GitHub username.
5.3 Deploy to Railway
Go to https://railway.app/dashboard
New Project
Deploy from GitHub repo
Select facebook-clone-backend
Deploy Now
Wait 2-3 min
5.4 Add Variables to Railway
Click your project
Variables tab
Raw Editor
Paste:
MONGODB_URI=mongodb+srv://rivkacohen419_db_user:YOUR_PASSWORD@cluster0.xxxxx.mongodb.net/facebook-clone?appName=Cluster0
JWT_SECRET=facebook_clone_secret_key_12345
NODE_ENV=production
Save
5.5 Get Backend URL
Settings tab
Domains section
Copy URL (save it!)
Example: https://facebook-clone-backend-production.up.railway.app
Test: Open in browser https://YOUR-RAILWAY-URL/posts
Should return: []
‚úÖ Backend is LIVE!
PART 6: CREATE FRONTEND (10 MIN)
6.1 Create React App
Open NEW terminal:
npx create-react-app facebook-clone-frontend
cd facebook-clone-frontend
npm install axios
Wait for it to finish.
6.2 Create App.js
Delete everything in src/App.js
Paste this:
import React, { useState, useEffect } from 'react';
import axios from 'axios';
import './App.css';

const API_URL = 'http://localhost:5000'; // Change to Railway URL later

function App() {
  const [token, setToken] = useState(localStorage.getItem('token'));
  const [currentUser, setCurrentUser] = useState(null);
  const [posts, setPosts] = useState([]);
  const [newPost, setNewPost] = useState('');
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (token) {
      fetchCurrentUser();
      fetchPosts();
    }
  }, [token]);

  const fetchCurrentUser = async () => {
    try {
      const res = await axios.get(`${API_URL}/auth/me`, {
        headers: { Authorization: `Bearer ${token}` }
      });
      setCurrentUser(res.data);
    } catch (err) {
      console.error('Error:', err);
    }
  };

  const fetchPosts = async () => {
    try {
      const res = await axios.get(`${API_URL}/posts`);
      setPosts(res.data);
    } catch (err) {
      console.error('Error:', err);
    }
  };

  const createPost = async (e) => {
    e.preventDefault();
    if (!newPost.trim()) return;
    setLoading(true);
    try {
      const res = await axios.post(
        `${API_URL}/posts`,
        { content: newPost },
        { headers: { Authorization: `Bearer ${token}` } }
      );
      setPosts([res.data, ...posts]);
      setNewPost('');
    } catch (err) {
      alert('Error: ' + err.response?.data?.error);
    }
    setLoading(false);
  };

  const likePost = async (postId) => {
    try {
      const res = await axios.post(
        `${API_URL}/posts/${postId}/like`,
        {},
        { headers: { Authorization: `Bearer ${token}` } }
      );
      setPosts(posts.map(p => p._id === postId ? res.data : p));
    } catch (err) {
      alert('Error liking post');
    }
  };

  const deletePost = async (postId) => {
    if (!window.confirm('Delete post?')) return;
    try {
      await axios.delete(`${API_URL}/posts/${postId}`, {
        headers: { Authorization: `Bearer ${token}` }
      });
      setPosts(posts.filter(p => p._id !== postId));
    } catch (err) {
      alert('Error deleting post');
    }
  };

  const handleLogout = () => {
    localStorage.removeItem('token');
    setToken(null);
    setCurrentUser(null);
  };

  if (!token) {
    return <LoginForm setToken={setToken} />;
  }

  return (
    <div className="container">
      <header className="header">
        <h1>üì± Facebook Clone</h1>
        <div>
          <span>{currentUser?.username}</span>
          <button onClick={handleLogout} className="btn-logout">Logout</button>
        </div>
      </header>

      <main className="main">
        <div className="create-post">
          <form onSubmit={createPost}>
            <textarea
              value={newPost}
              onChange={(e) => setNewPost(e.target.value)}
              placeholder="What's on your mind?"
              className="post-input"
            />
            <button type="submit" disabled={loading} className="btn-post">
              {loading ? 'Posting...' : 'Post'}
            </button>
          </form>
        </div>

        <div className="posts">
          {posts.length === 0 ? (
            <p className="no-posts">No posts yet.</p>
          ) : (
            posts.map((post) => (
              <div key={post._id} className="post">
                <div className="post-header">
                  <div>
                    <strong>{post.author.username}</strong>
                    <p className="post-date">{new Date(post.createdAt).toLocaleDateString()}</p>
                  </div>
                  {currentUser?._id === post.author._id && (
                    <button onClick={() => deletePost(post._id)} className="btn-delete">‚úï</button>
                  )}
                </div>
                <p className="post-content">{post.content}</p>
                <div className="post-actions">
                  <button onClick={() => likePost(post._id)} className={`btn-action ${post.likes.some(l => l._id === currentUser?._id) ? 'liked' : ''}`}>
                    üëç {post.likes.length}
                  </button>
                  <button className="btn-action">üí¨ {post.comments.length}</button>
                </div>
                {post.comments.length > 0 && (
                  <div className="comments">
                    {post.comments.map((comment, idx) => (
                      <p key={idx} className="comment"><strong>{comment.author.username}:</strong> {comment.text}</p>
                    ))}
                  </div>
                )}
              </div>
            ))
          )}
        </div>
      </main>
    </div>
  );
}

function LoginForm({ setToken }) {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [username, setUsername] = useState('');
  const [isSignup, setIsSignup] = useState(false);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');
    setLoading(true);
    try {
      const endpoint = isSignup ? '/auth/signup' : '/auth/login';
      const data = isSignup ? { username, email, password } : { email, password };
      const res = await axios.post(`${API_URL}${endpoint}`, data);
      localStorage.setItem('token', res.data.token);
      setToken(res.data.token);
    } catch (err) {
      setError(err.response?.data?.error || 'Error');
    }
    setLoading(false);
  };

  return (
    <div className="login-container">
      <div className="login-box">
        <h1>üì± Facebook Clone</h1>
        <form onSubmit={handleSubmit}>
          {error && <div className="error">{error}</div>}
          {isSignup && (
            <input type="text" placeholder="Username" value={username} onChange={(e) => setUsername(e.target.value)} className="input" required />
          )}
          <input type="email" placeholder="Email" value={email} onChange={(e) => setEmail(e.target.value)} className="input" required />
          <input type="password" placeholder="Password" value={password} onChange={(e) => setPassword(e.target.value)} className="input" required />
          <button type="submit" disabled={loading} className="btn-submit">{loading ? 'Loading...' : isSignup ? 'Sign Up' : 'Login'}</button>
        </form>
        <button onClick={() => setIsSignup(!isSignup)} className="btn-toggle">{isSignup ? '‚Üê Back' : "Don't have account? Sign up"}</button>
      </div>
    </div>
  );
}

export default App;
6.3 Create App.css
Delete everything in src/App.css
Paste this:
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  background-color: #f0f2f5;
  color: #050505;
}

.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.login-box {
  background: white;
  padding: 40px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  width: 100%;
  max-width: 400px;
}

.login-box h1 {
  text-align: center;
  margin-bottom: 30px;
  color: #1877f2;
  font-size: 28px;
}

.input {
  width: 100%;
  padding: 12px;
  margin-bottom: 12px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 14px;
}

.input:focus {
  outline: none;
  border-color: #1877f2;
  box-shadow: 0 0 0 3px rgba(24, 119, 242, 0.1);
}

.btn-submit {
  width: 100%;
  padding: 12px;
  background: #1877f2;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  margin-top: 10px;
}

.btn-submit:hover { background: #165ec7; }
.btn-submit:disabled { background: #ccc; cursor: not-allowed; }

.btn-toggle {
  width: 100%;
  padding: 12px;
  background: none;
  border: none;
  color: #1877f2;
  cursor: pointer;
  margin-top: 15px;
}

.error {
  background: #f8d7da;
  color: #721c24;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 15px;
}

.container { display: flex; flex-direction: column; min-height: 100vh; }

.header {
  background: white;
  padding: 15px 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 100;
}

.header h1 { color: #1877f2; font-size: 24px; }

.header > div {
  display: flex;
  align-items: center;
  gap: 15px;
}

.header span { font-weight: 600; }

.btn-logout {
  padding: 8px 16px;
  background: #f02849;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.btn-logout:hover { background: #c91d39; }

.main {
  flex: 1;
  max-width: 600px;
  width: 100%;
  margin: 0 auto;
  padding: 20px;
}

.create-post {
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
}

.post-input {
  width: 100%;
  padding: 12px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  font-size: 14px;
  min-height: 100px;
}

.post-input:focus {
  outline: none;
  border-color: #1877f2;
}

.btn-post {
  padding: 10px 20px;
  background: #1877f2;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 10px;
}

.btn-post:hover { background: #165ec7; }

.posts { display: flex; flex-direction: column; gap: 15px; }

.post {
  background: white;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.post-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
}

.post-date { color: #65676b; font-size: 12px; margin-top: 4px; }

.btn-delete {
  background: #f02849;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 6px 10px;
  cursor: pointer;
}

.post-content {
  font-size: 15px;
  line-height: 1.5;
  margin-bottom: 12px;
}

.post-actions {
  display: flex;
  gap: 10px;
  padding-top: 10px;
  border-top: 1px solid #e5e7eb;
}

.btn-action {
  flex: 1;
  padding: 8px;
  background: none;
  border: none;
  color: #65676b;
  cursor: pointer;
  border-radius: 4px;
}

.btn-action:hover { background: #f0f2f5; }
.btn-action.liked { color: #1877f2; font-weight: 600; }

.comments {
  margin-top: 15px;
  padding-top: 15px;
  border-top: 1px solid #e5e7eb;
}

.comment {
  font-size: 13px;
  margin-top: 8px;
  padding: 8px 10px;
  background: #f0f2f5;
  border-radius: 6px;
}

@media (max-width: 600px) {
  .main { padding: 10px; }
  .header { flex-direction: column; gap: 10px; }
  .login-box { margin: 20px; }
}
6.4 Test Locally
In terminal:
npm start
Go to http://localhost:3000
Try:
Sign Up
Create post
Like/comment
Refresh - post stays!
‚úÖ Frontend works!
PART 7: UPDATE API URL & DEPLOY (5 MIN)# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the "main" branch
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v4

      # Runs a single command using the runners shell
      - name: Run a one-line script
        run: echo Hello, world!

      # Runs a set of commands using the runners shell
      - name: Run a multi-line script
        run: |
          echo Add other actions to build,
          echo test, and deploy your project.
